<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Error Assistant - í…ŒìŠ¤íŠ¸ í˜ì´ì§€</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        h1 {
            color: #333;
            border-bottom: 4px solid #4CAF50;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        h2 {
            color: #555;
            margin-top: 30px;
            margin-bottom: 15px;
            padding-left: 10px;
            border-left: 4px solid #2196F3;
        }
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        button.danger {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        button.success {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .info {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 6px;
        }
        .warning {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 20px 0;
            border-radius: 6px;
        }
        .status {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.95);
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            font-size: 12px;
        }
        .status.ready {
            border-left: 4px solid #4CAF50;
        }
        .status.loading {
            border-left: 4px solid #ff9800;
        }
        code {
            background-color: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }
        pre {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            border: 1px solid #ddd;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="status loading" id="status">
        <strong>ğŸ”„ WebLLM ë¡œë”© ì¤‘...</strong>
    </div>

    <div class="container">
        <h1>ğŸ¤– AI Error Assistant - ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸</h1>
        
        <div class="info">
            <strong>ğŸ“Œ ì‚¬ìš© ë°©ë²•:</strong>
            <ol>
                <li>ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ì˜ <strong>ì½˜ì†” íƒ­</strong>ì„ ì—½ë‹ˆë‹¤ (F12)</li>
                <li>ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë‹¤ì–‘í•œ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤</li>
                <li>ì½˜ì†”ì—ì„œ AIì˜ <strong>ì—ëŸ¬ ë¶„ì„ ê²°ê³¼</strong>ë¥¼ í™•ì¸í•©ë‹ˆë‹¤</li>
                <li>ë˜ëŠ” ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì§ì ‘ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
            </ol>
        </div>

        <div class="warning">
            <strong>âš ï¸ ì¤‘ìš”:</strong>
            <ul>
                <li>ì‹œí¬ë¦¿ ëª¨ë“œ(Ctrl+Shift+N)ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤</li>
                <li>WebLLM ì—”ì§„ì´ ë¡œë“œë˜ê¸°ê¹Œì§€ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤ (1-2ë¶„)</li>
                <li>ì´ˆê¸° ë¡œë”© ì¤‘ì—ëŠ” ì—ëŸ¬ê°€ íì— ì €ì¥ë˜ì—ˆë‹¤ê°€ ë‚˜ì¤‘ì— ë¶„ì„ë©ë‹ˆë‹¤</li>
                <li>ì½˜ì†”ì„ ì—´ì–´ë‘ê³  í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”</li>
            </ul>
        </div>

        <!-- ê¸°ë³¸ ì—ëŸ¬ í…ŒìŠ¤íŠ¸ -->
        <div class="section">
            <h2>1. ê¸°ë³¸ ì—ëŸ¬ ìœ í˜• í…ŒìŠ¤íŠ¸</h2>
            <div class="button-group">
                <button onclick="testReferenceError()">ReferenceError</button>
                <button onclick="testTypeError()">TypeError</button>
                <button onclick="testSyntaxError()">SyntaxError</button>
                <button onclick="testRangeError()">RangeError</button>
                <button onclick="testURIError()">URIError</button>
            </div>
        </div>

        <!-- ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸ -->
        <div class="section">
            <h2>2. ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸</h2>
            <div class="button-group">
                <button onclick="testNullPointer()">Null ì°¸ì¡°</button>
                <button onclick="testArrayAccessError()">ë°°ì—´ ì ‘ê·¼</button>
                <button onclick="testAsyncError()">ë¹„ë™ê¸° ì—ëŸ¬</button>
                <button onclick="testPromiseRejection()">Promise Rejection</button>
                <button onclick="testJSONParseError()">JSON íŒŒì‹±</button>
                <button onclick="testFunctionCallError()">í•¨ìˆ˜ í˜¸ì¶œ</button>
            </div>
        </div>

        <!-- API/ë„¤íŠ¸ì›Œí¬ í…ŒìŠ¤íŠ¸ -->
        <div class="section">
            <h2>3. API/ë„¤íŠ¸ì›Œí¬ í…ŒìŠ¤íŠ¸</h2>
            <div class="button-group">
                <button onclick="testNetworkError()">ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬</button>
                <button onclick="testAPIResponseError()">API ì‘ë‹µ ì²˜ë¦¬</button>
                <button onclick="testCORSError()">CORS ì—ëŸ¬</button>
            </div>
        </div>

        <!-- DOM ì¡°ì‘ í…ŒìŠ¤íŠ¸ -->
        <div class="section">
            <h2>4. DOM ì¡°ì‘ í…ŒìŠ¤íŠ¸</h2>
            <div class="button-group">
                <button onclick="testDOMError()">DOM ì ‘ê·¼</button>
                <button onclick="testEventHandlerError()">ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬</button>
            </div>
        </div>

        <!-- ìˆ˜ë™ ë¶„ì„ í…ŒìŠ¤íŠ¸ -->
        <div class="section">
            <h2>5. ìˆ˜ë™ ë¶„ì„ í…ŒìŠ¤íŠ¸</h2>
            <div class="button-group">
                <button class="success" onclick="manualAnalyzeError()">Error ê°ì²´ ë¶„ì„</button>
                <button class="success" onclick="manualAnalyzeCustomError()">ì»¤ìŠ¤í…€ ì—ëŸ¬ ë¶„ì„</button>
                <button class="success" onclick="manualAnalyzeString()">ë¬¸ìì—´ ë¶„ì„</button>
            </div>
        </div>

        <!-- ë³µí•© í…ŒìŠ¤íŠ¸ -->
        <div class="section">
            <h2>6. ë³µí•© í…ŒìŠ¤íŠ¸</h2>
            <div class="button-group">
                <button onclick="testMultipleErrors()">ì—¬ëŸ¬ ì—ëŸ¬ ì—°ì†</button>
                <button onclick="testNestedError()">ì¤‘ì²©ëœ ì—ëŸ¬</button>
                <button onclick="runAllBasicTests()">ëª¨ë“  ê¸°ë³¸ í…ŒìŠ¤íŠ¸</button>
                <button class="danger" onclick="runAllScenarioTests()">ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸</button>
            </div>
        </div>

        <!-- ì½”ë“œ ì˜ˆì‹œ -->
        <div class="info">
            <strong>ğŸ’¡ ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì§ì ‘ ì‹¤í–‰:</strong>
            <pre><code>// ê¸°ë³¸ ì—ëŸ¬ í…ŒìŠ¤íŠ¸
testReferenceError();
testTypeError();

// ìˆ˜ë™ ë¶„ì„
AISupport.analyze(new Error("í…ŒìŠ¤íŠ¸ ì—ëŸ¬"));

// ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
runAllBasicTests();</code></pre>
        </div>
    </div>

    <!-- WebLLMì„ ES Moduleë¡œ ë¨¼ì € ë¡œë“œ -->
    <script type="module">
        import * as webllm from '../web-llm/web-llm.min.js';
        window.webllm = webllm;
        window.webllmReady = true;
        console.log('âœ… WebLLM ë¡œë“œ ì™„ë£Œ');
        
        // ìƒíƒœ ì—…ë°ì´íŠ¸
        var statusEl = document.getElementById('status');
        if (statusEl) {
            statusEl.className = 'status ready';
            statusEl.innerHTML = '<strong>âœ… WebLLM ì¤€ë¹„ë¨</strong>';
        }
    </script>

    <!-- WebLLMì„ ES Moduleë¡œ ë¨¼ì € ë¡œë“œ -->
    <script type="module">
        import * as webllm from '../web-llm/web-llm.min.js';
        window.webllm = webllm;
        window.webllmReady = true;
        console.log('âœ… WebLLM ë¡œë“œ ì™„ë£Œ');
    </script>

    <!-- AI Error Assistant ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="tsSupportAI.js"></script>

    <!-- í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë“¤ -->
    <script src="test.js"></script>

    <!-- ìƒíƒœ ëª¨ë‹ˆí„°ë§ -->
    <script>
        // WebLLM ì¤€ë¹„ ìƒíƒœ í™•ì¸
        function checkWebLLMStatus() {
            if (window.AISupport) {
                var statusEl = document.getElementById('status');
                if (statusEl) {
                    if (AISupport.ready) {
                        statusEl.className = 'status ready';
                        statusEl.innerHTML = '<strong>âœ… AI Error Assistant ì¤€ë¹„ë¨</strong><br>ì—ëŸ¬ ë¶„ì„ ê°€ëŠ¥';
                    } else {
                        statusEl.className = 'status loading';
                        statusEl.innerHTML = '<strong>ğŸ”„ AI Error Assistant ë¡œë”© ì¤‘...</strong>';
                    }
                }
            }
        }

        // ì£¼ê¸°ì ìœ¼ë¡œ ìƒíƒœ í™•ì¸
        setInterval(checkWebLLMStatus, 1000);

        // í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ
        window.addEventListener('DOMContentLoaded', function() {
            console.log('%c[í…ŒìŠ¤íŠ¸ í˜ì´ì§€] ë¡œë“œ ì™„ë£Œ', 'color:#4CAF50; font-weight:bold');
            console.log('ì½˜ì†”ì„ ì—´ì–´ë‘ê³  ìœ„ì˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.');
            console.log('ë˜ëŠ” ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì§ì ‘ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
            console.log('');
            console.log('ì‚¬ìš© ê°€ëŠ¥í•œ í•¨ìˆ˜:');
            console.log('- testReferenceError()');
            console.log('- testTypeError()');
            console.log('- runAllBasicTests()');
            console.log('- AISupport.analyze(error)');
            
            checkWebLLMStatus();
        });
    </script>
</body>
</html>

